<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
 
</head>

<body>
    <main>
        <p id="p-tag">Enter Input having atleast 8 characters</p>
        <form id="form">
            <input type="text" id="input" minlength="8">
            <input type="submit" id="submit-btn">
        </form>
    </main>
    <script>
        const ptag = document.querySelector('#p-tag');
        const input = document.querySelector('#input');
        const button = document.querySelector('#submit-btn');
        const form = document.querySelector('#form');

        ptag.addEventListener('click', event => {
            alert(ptag.innerHTML);
        })

        input.addEventListener('keyup', function (event) {
            if (input.value.length >= 8) {
                input.setAttribute('style', 'background-color:lightgreen');
            }
            else{
                input.setAttribute('style', 'background-color:initial');
            }

        });
        let flag=0;
        button.addEventListener('click', function (event) {
            event.preventDefault();
            if(flag===0){
                if (input.value.length >= 8) {
                    form.submit()
                }
                else {
                    let errormessage = document.createElement('p');
                    errormessage.appendChild(document.createTextNode('Input contains less than 8 characters'));
                    errormessage.setAttribute('style', 'background-color:red');
                    input.parentNode.insertBefore(errormessage, input.nextSibling);
                    flag=1;
                }
            }
            else{
                if (input.value.length >= 8) {
                    form.submit()
                }
            }

        });

    </script>
</body>

</html>
